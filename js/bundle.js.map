<<<<<<< HEAD
{"version":3,"sources":["webpack:///webpack/bootstrap bcd279795303956a66b0","webpack:///./js/planary.js","webpack:///./js/game.js","webpack:///./constants.js","webpack:///./js/edge.js","webpack:///./js/util.js","webpack:///./js/graph.js","webpack:///./js/vertex.js","webpack:///./js/game_view.js"],"names":[],"mappings":"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","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap bcd279795303956a66b0\n **/","\"use strict\";\n\nconst Game = require(\"./game\")\n    , GameView = require(\"./game_view\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n\n  if (window.innerHeight < window.innerWidth) {\n    Game.DIM_X = window.innerHeight * 0.8;\n    Game.DIM_Y = window.innerHeight * 0.8;\n  } else {\n    Game.DIM_X = window.innerWidth;\n    Game.DIM_Y = window.innerWidth;\n  }\n\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const rootEl = $('.planary-root');\n\n  new GameView(ctx, rootEl, {level: 0, stage: 0});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/planary.js\n **/","\"use strict\";\n\nconst Constants = require('../constants')\n    , Edge = require(\"./edge\")\n    , Graph = require(\"./graph\")\n    , Util = require(\"./util\")\n    , Vertex = require(\"./vertex\");\n\nconst Game = function (options) {\n  this.level = options.level || 0;\n  this.stage = options.stage || 0;\n  this.moves = 0;\n\n  this.setPlaySize();\n  this.buildGraph();\n  this.setVertexSize();\n};\n\nGame.prototype.setPlaySize = function() {\n  const $board = $(\".canvas-div\");\n  $board.width(Game.DIM_X).height(Game.DIM_Y);\n\n  Game.leftOffset = (window.innerWidth - Game.DIM_X) / 2;\n  $board.css( {left: Game.leftOffset} );\n};\n\n\nGame.prototype.setVertexSize = function() {\n  Vertex.RADIUS = (Game.DIM_X / this.vertices.length / 10) + 5;\n};\n\nGame.prototype.isPlanar = function() {\n  let planar = true;\n\n  this.edges.forEach( (edge1, i1) => {\n    this.edges.forEach( (edge2, i2) => {\n      if (i1 !== i2 && edge1.intersectsWith(edge2)) {\n        planar = false;\n      }\n    });\n  });\n\n  return planar;\n};\n\nGame.prototype.buildGraph = function() {\n  this.vertices = [];\n  this.edges = [];\n  const n = this.level + 4;\n\n  const edgeCoords = Graph.generateEdges(n);\n  let numVertices = (n * (n-1)/2);\n\n  if (this.level > 0) {\n    numVertices = (n * (n-1)/2) - (n-1) + this.stage + 1;\n  }\n\n  for (let j = 0; j < numVertices; j++) {\n\n    const xOffset = Game.DIM_X/2;\n    const yOffset = Game.DIM_Y/2;\n\n    const xResize = Game.DIM_X*0.35;\n    const yResize = Game.DIM_Y*0.35;\n\n    const x = Math.cos(j * 2 * Math.PI / numVertices) * xResize + xOffset;\n    const y = Math.sin(j * 2 * Math.PI / numVertices) * xResize + xOffset;\n\n    this.vertices.push(new Vertex({ x: x, y: y, index: j }) );\n  }\n\n  let verticesReached = [];\n  edgeCoords.forEach ( (edgeCoord, i) => {\n\n    if (edgeCoord[0] < numVertices && edgeCoord[1] < numVertices) {\n      const edge = new Edge({ vertex1: this.vertices[edgeCoord[0]],\n                              vertex2: this.vertices[edgeCoord[1]],\n                              idx: i });\n      this.edges.push(edge);\n\n      this.vertices[edgeCoord[0]].edges.push(edge);\n      this.vertices[edgeCoord[1]].edges.push(edge);\n\n      verticesReached.push(edgeCoord[0]);\n      verticesReached.push(edgeCoord[1]);\n    }\n  });\n\n  for (let i = 0; i < numVertices; i++) {\n    if (!verticesReached.includes(i)) {\n      let v2 = 0;\n      if (i === v2) { v2 += 1; }\n      const edge = new Edge({ vertex1: this.vertices[i],\n                              vertex2: this.vertices[v2],\n                              idx: edges.length });\n      this.edges.push(edge);\n\n      this.vertices[i].edges.push(edge);\n      this.vertices[v2].edges.push(edge);\n    }\n  }\n\n  // If graph is already solved, generate new graph\n  if (this.isPlanar()) {\n    this.buildGraph();\n  }\n\n};\n\nGame.prototype.dropVertices = function() {\n  this.vertices.forEach( vertex => {\n    vertex.selected = false;\n    vertex.color = Constants.COLOR;\n  });\n};\n\nmodule.exports = Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game.js\n **/","\"use strict\";\n\nmodule.exports = {\n\tCOLOR: \"#2794EB\",\n  COLOR_SELECTED: \"#47D6B6\",\n  COLOR_NEIGHBOR: \"#4531B1\",\n  BLACK: \"#000000\",\n  WHITE: \"#FFFFFF\",\n  LINE_SELECTED: \"#6150C1\",\n  LINE_INTERSECTING: \"#FF9090\",\n\tRADIUS: 15,\n  EPSILON: 0.00001\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./constants.js\n **/","\"use strict\";\n\nconst Constants = require('../constants')\n    , Util = require(\"./util\");\n\nconst Edge = function(options) {\n  this.vertex1 = options.vertex1;\n  this.vertex2 = options.vertex2;\n  this.idx = options.idx;\n};\n\nEdge.prototype.draw = function(ctx, edges) {\n  if (this.currentlyIntersecting(edges)) {\n    ctx.strokeStyle = Constants.LINE_INTERSECTING;\n    ctx.shadowColor = Constants.LINE_INTERSECTING;\n    ctx.lineWidth = 3;\n    ctx.beginPath();\n    ctx.moveTo(this.vertex1.x, this.vertex1.y);\n    ctx.lineTo(this.vertex2.x, this.vertex2.y);\n    ctx.stroke();\n\n  } else {\n    ctx.strokeStyle = Constants.BLACK;\n    ctx.lineWidth = 3;\n    ctx.beginPath();\n    ctx.moveTo(this.vertex1.x, this.vertex1.y);\n    ctx.lineTo(this.vertex2.x, this.vertex2.y);\n    ctx.stroke();\n  }\n};\n\nEdge.prototype.slope = function() {\n\n  if (this.vertex1.x === this.vertex2.x) {\n    return 100000;\n  } else if (this.vertex1.x < this.vertex2.x) {\n    return (this.vertex2.y - this.vertex1.y) / (this.vertex2.x - this.vertex1.x);\n  } else {\n    return (this.vertex1.y - this.vertex2.y) / (this.vertex1.x - this.vertex2.x);\n  }\n\n};\n\nEdge.prototype.xIntercept = function() {\n  if (this.isVertical()) {\n    return this.vertex1.x;\n  } else if (this.isHorizontal()) {\n    return 1000000;\n  } else {\n    return -this.yIntercept()/this.slope();\n  }\n};\n\nEdge.prototype.yIntercept = function() {\n  if (this.isVertical()) {\n    return 1000000;\n  } else if (this.isHorizontal()) {\n    return this.vertex1.y;\n  } else {\n    return this.vertex1.y - (this.slope()*this.vertex1.x);\n  }\n};\n\nEdge.prototype.shareVertex = function(edge) {\n  return (\n    this.vertex1 === edge.vertex1\n    || this.vertex1 === edge.vertex2\n    || this.vertex2 === edge.vertex1\n    || this.vertex2 === edge.vertex2\n  );\n};\n\nEdge.prototype.isVertical = function() {\n  return (Math.abs(this.vertex1.x - this.vertex2.x) < Constants.EPSILON);\n};\n\nEdge.prototype.isHorizontal = function() {\n  return (Math.abs(this.vertex1.y - this.vertex2.y) < Constants.EPSILON);\n};\n\nEdge.prototype.intersectsAtX = function(edge) {\n  return (edge.yIntercept() - this.yIntercept()) / (this.slope() - edge.slope());\n};\n\nEdge.prototype.xValue = function(y) {\n  return (y - this.yIntercept())/this.slope();\n};\n\nEdge.prototype.yValue = function(x) {\n  return (this.slope() * x) + this.yIntercept();\n};\n\nEdge.prototype.minX = function() {\n  return Math.min(this.vertex1.x, this.vertex2.x);\n};\n\nEdge.prototype.maxX = function() {\n  return Math.max(this.vertex1.x, this.vertex2.x);\n};\n\nEdge.prototype.minY = function() {\n  return Math.min(this.vertex1.y, this.vertex2.y);\n};\n\nEdge.prototype.maxY = function() {\n  return Math.max(this.vertex1.y, this.vertex2.y);\n};\n\nEdge.prototype.intersectsWith = function(edge) {\n  if (this === edge) {\n    return false;\n\n  } else if (this.vertex1 === edge.vertex1) {\n    let response = false;\n\n    let slope1 = Util.slope(this.vertex1, this.vertex2);\n    let slope2 = Util.slope(edge.vertex1, edge.vertex2);\n\n    if (slope1 === slope2) {\n      response = true;\n    }\n    return response;\n\n  } else if (this.vertex1 === edge.vertex2) {\n    let response = false;\n\n    let slope1 = Util.slope(this.vertex1, this.vertex2);\n    let slope2 = Util.slope(edge.vertex2, edge.vertex1);\n\n    if (slope1 === slope2) {\n      response = true;\n    }\n    return response;\n\n  } else if (this.vertex2 === edge.vertex1) {\n    let response = false;\n\n    let slope1 = Util.slope(this.vertex2, this.vertex1);\n    let slope2 = Util.slope(edge.vertex1, edge.vertex2);\n\n    if (slope1 === slope2) {\n      response = true;\n    }\n    return response;\n\n  } else if (this.vertex2 === edge.vertex2) {\n    let response = false;\n\n    let slope1 = Util.slope(this.vertex2, this.vertex1);\n    let slope2 = Util.slope(edge.vertex2, edge.vertex1);\n\n    if (slope1 === slope2) {\n      response = true;\n    }\n    return response;\n\n  } else if (this.isHorizontal()) {\n    let response = false;\n\n    if (edge.minY()+1 < this.vertex1.y && this.vertex1.y < edge.maxY()-1) {\n      if (edge.isVertical()) {\n        response = true;\n      } else {\n        let xValue = edge.xValue(this.vertex1.y);\n        if (this.minX()+1 < xValue && xValue < this.maxX()-1) {\n          response = true;\n        }\n      }\n    }\n    return response;\n\n  } else if (edge.isHorizontal()) {\n    let response = false;\n    if (this.minY()+1 < edge.vertex1.y && edge.vertex1.y < this.maxY()-1) {\n      if (this.isVertical()) {\n        response = true;\n      } else {\n        let xValue = this.xValue(edge.vertex1.y);\n        if (edge.minX()+1 < xValue && xValue < edge.maxX()-1) {\n          response = true;\n        }\n      }\n    }\n    return response;\n\n  } else if (this.isVertical()) {\n    let response = false;\n    if (edge.minX()+1 < this.vertex1.x && this.vertex1.x < edge.maxX()-1) {\n      if (edge.isHorizontal()) {\n        response = true;\n      } else {\n        let yValue = edge.yValue(this.vertex1.x);\n        if (this.minY()+1 < yValue && yValue < this.maxY()-1) {\n          response = true;\n        }\n      }\n    }\n    return response;\n\n  } else if (edge.isVertical()){\n    let response = false;\n\n    if (this.minX()+1 < edge.vertex1.x && edge.vertex1.x < this.maxX()-1) {\n      if (this.isHorizontal()) {\n        response = true;\n      } else {\n        let yValue = this.yValue(edge.vertex1.x);\n        if (edge.minY()+1 < yValue && yValue < edge.maxY()-1) {\n          response = true;\n        }\n      }\n    }\n    return response;\n\n  } else if (this.slope() === edge.slope()) {\n    return false;\n\n  } else {\n    const x = this.intersectsAtX(edge);\n    const y = this.yValue(x);\n\n    const xWithinRange = (this.minX()+1 < x && x < this.maxX()-1 && edge.minX()+1 < x && x < edge.maxX()-1);\n    const yWithinRange = (this.minY()+1 < y && y < this.maxY()-1 && edge.minY()+1 < y && y < edge.maxY()-1);\n\n    return xWithinRange && yWithinRange;\n  }\n};\n\nEdge.prototype.currentlyIntersecting = function(allEdges) {\n  let intersecting = false;\n\n  allEdges.forEach( edge => {\n    if (this.intersectsWith(edge)) {\n      intersecting = true;\n    }\n  });\n  return intersecting;\n};\n\nmodule.exports = Edge;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/edge.js\n **/","\"use strict\";\n\nconst Util = {\n  slope(vertex1, vertex2) {\n    return (vertex2.y - vertex1.y) / (vertex2.x - vertex1.x);\n  },\n\n  distFromMouse(vertex, currentMousePos) {\n    const vertexRadius = 12.5;\n\n    return Math.sqrt(\n      Math.pow(vertex.x + vertexRadius - currentMousePos.x, 2) + Math.pow(vertex.y + vertexRadius - currentMousePos.y, 2)\n    );\n  }\n\n};\n\nmodule.exports = Util;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/util.js\n **/","\"use strict\";\n\nconst Edge = require(\"./edge\")\n    , Util = require(\"./util\")\n    , Vertex = require(\"./vertex\");\n\nconst Graph = {\n\n  pairIndex(n) {\n    let pairIndex = {};\n\n    let vertexIdx = 0;\n    for (let i = 0; i <= n; i++) {\n      for (let j = i+1; j<n; j++) {\n        pairIndex[`${i},${j}`] = vertexIdx;\n        vertexIdx++;\n      }\n    }\n\n    return pairIndex;\n  },\n\n  generateLines(n) {\n    let lines = [];\n    let slopes = [];\n\n    while (lines.length < n) {\n      let v1 = new Vertex( { x: Math.random(), y: Math.random() });\n      let v2 = new Vertex( { x: Math.random(), y: Math.random() });\n\n      let slope = Util.slope(v1, v2);\n      // let inverseSlope = Util.slope(v2, v1);\n      if (!slopes.includes(slope)) {\n        let line = new Edge({ vertex1: v1, vertex2: v2, idx: lines.length});\n        lines.push(line);\n      }\n    }\n    return lines;\n  },\n\n  generateEdges(n) {\n    // Build pairIndex hash from { [pair]: indexOfVertex }\n    let pairIndex = this.pairIndex(n);\n\n    // Generate n * (n-1)/2 random lines of differing slope\n    const lines = this.generateLines(n);\n\n    // For each line, find the intersection points\n    // of that line with all other lines\n    let edges = [];\n    lines.forEach( (line1, i1) => {\n      let intersections = [];\n\n      lines.forEach( (line2, i2) => {\n        if (i1 !== i2) {\n          let intersection = line1.intersectsAtX(line2);\n          intersections.push( { x: intersection, lineIdx: i2 } );\n        }\n\n      });\n\n      // Order lines by intersection point's X coord\n      intersections.sort( (intersect1, intersect2) => {\n        return intersect1.x - intersect2.x;\n      });\n\n      // For each pair of neighboring intersections\n      // create a new edge between them\n      for (let i = 0; i < intersections.length-1; i++) {\n        let l1 = intersections[i];\n        let l2 = intersections[i+1];\n\n        let indices1 = [i1, l1.lineIdx];\n        let indices2 = [i1, l2.lineIdx];\n\n        indices1.sort( (a, b) => a-b  );\n        indices2.sort( (a, b) => a-b  );\n\n        let v1 = pairIndex[indices1];\n        let v2 = pairIndex[indices2];\n\n        edges.push([v1, v2]);\n      }\n\n    });\n\n    return edges;\n  }\n\n};\n\nmodule.exports = Graph;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/graph.js\n **/","\"use strict\";\n\nconst Constants = require('../constants');\n\nconst Vertex = function(options) {\n  this.index = options.index;\n  this.x = options.x;\n  this.y = options.y;\n  this.color = Constants.COLOR;\n  this.radius = Constants.RADIUS;\n  this.edges = [];\n  this.selected = false;\n};\n\nVertex.prototype.pos = function() {\n  return [this.x, this.y];\n};\n\nVertex.prototype.draw = function(ctx) {\n  ctx.fillStyle = this.color;\n  ctx.shadowBlur = 10;\n  ctx.shadowColor = this.color;\n  ctx.beginPath();\n  ctx.arc(this.x, this.y, Vertex.RADIUS, 0, 2 * Math.PI);\n  ctx.fill();\n};\n\nVertex.prototype.neighbors = function() {\n  let neighbors = [];\n\n  this.edges.forEach( edge => {\n    if (edge.vertex1 === this) {\n      neighbors.push(edge.vertex2);\n    } else {\n      neighbors.push(edge.vertex1);\n    }\n  });\n  return neighbors;\n};\n\nmodule.exports = Vertex;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/vertex.js\n **/","\"use strict\";\n\nconst Constants = require('../constants')\n    , Game = require(\"./game\")\n    , Util = require(\"./util\")\n    , Vertex = require('./vertex');\n\nconst GameView = function (ctx, root, options) {\n  this.ctx = ctx;\n  this.root = root;\n  this.currentMousePos = { x: -1, y: -1 };\n  this.level = options.level || 0;\n  this.stage = options.stage || 0;\n\n  this.renderButtons();\n  this.bindButtonEvents();\n  this.bindGraphEvents();\n  this.renderRules();\n  this.playLevel(this.level);\n};\n\nGameView.prototype.playLevel = function() {\n  this.game = new Game({level: this.level, stage: this.stage});\n\n  this.renderGraph();\n  this.renderModal();\n\n  let that = this;\n  function playGame() {\n    that.follow(that.game, that.currentMousePos);\n    that.renderGraph();\n    requestAnimationFrame(playGame);\n  }\n  requestAnimationFrame(playGame);\n};\n\nGameView.prototype.levelUp = function() {\n  this.stage += 1;\n  this.game.moves = 0;\n  if (this.stage > 0) {\n    $(\".description\").css( {display: \"none\"} );\n  }\n\n  if (this.level === 0 || this.stage >= this.level + 3) {\n    this.level += 1;\n    this.stage = 0;\n  }\n};\n\nGameView.prototype.levelDown = function() {\n  this.stage -= 1;\n  this.game.moves = 0;\n  if (this.stage < 0) {\n    this.level -= 1;\n    this.stage = this.level + 3;\n  }\n};\n\nGameView.prototype.renderRules = function() {\n  const prevRules = document.getElementsByClassName(\"rules\");\n\n  if (prevRules.length > 0) {\n    const $rulesModal = $(prevRules[0]);\n    $rulesModal.css({display: \"block\"});\n  } else {\n    const $rulesModal = $(\"<div>\").addClass(\"modal\")\n                        .addClass(\"rules\")\n                        .css({display: \"block\"});\n    const $rulesContent = $(\"<div>\").addClass(\"modal-content\");\n    const $rules = $(\"<p>\").text(\"Can you detangle the web? Move the nodes around until none of the lines intersect.\");\n\n    $rulesContent.append($rules);\n    $rulesModal.append($rulesContent);\n\n    const $playButton = $(\"<a>\").text(\"Play\")\n                        .addClass(\"button\")\n                        .addClass(\"play\");\n\n    $rulesContent.append($playButton);\n\n    $playButton.on(\"touchstart click\", event => {\n      console.log(\"touchstart/clicked on $playButton\");\n      $rulesModal.css( {display: \"none\"} );\n    });\n\n    this.root.append($rulesModal);\n  }\n\n};\n\nGameView.prototype.renderModal = function() {\n  const prevModals = document.getElementsByClassName(\"win-modal\");\n\n  if (prevModals.length > 0) {\n    const $modal = $(prevModals[0]);\n\n  } else {\n    const $modal = $(\"<div>\").addClass(\"modal\")\n                  .addClass(\"win-modal\")\n                  .css( {display: \"none\"} );\n\n    const $modalContent = $(\"<div>\").addClass(\"modal-content\").addClass(\"win-modal-content\");\n    const $congrats = $(\"<h2>\").text(\"Congratulations, the graph is planar!\");\n\n    const $stats = $(\"<p>\").addClass(\"stats\");\n    const $level = $(\"<div>\").addClass(\"results level\");\n    const $stage = $(\"<div>\").addClass(\"results stage\");\n    const $moves = $(\"<div>\").addClass(\"results moves\");\n\n    $stats.append($level);\n    $stats.append($stage);\n    $stats.append($moves);\n\n    $modalContent.append($congrats);\n    $modalContent.append($stats);\n    $modal.append($modalContent);\n\n    const $nextButton = $(\"<a>\").text(\"Next Level\")\n                        .addClass(\"button\")\n                        .addClass(\"next-level-modal\");\n\n    $modalContent.append($nextButton);\n\n    $nextButton.on(\"touchstart click\", event => {\n      event.stopPropagation();\n      event.preventDefault();\n      console.log(\"touchstart/clicked on $nextButton\");\n\n      this.levelUp();\n      $modal.css({display: \"none\"});\n      cancelAnimationFrame(this.refreshIntervalId);\n      this.playLevel();\n    });\n\n    this.root.append($modal);\n  }\n\n};\n\nGameView.prototype.renderButtons = function() {\n\n  const $button2 = $(\"<div>\").addClass(\"button\").addClass(\"nav\").addClass(\"previous-level\");\n  const $button3 = $(\"<div>\").addClass(\"button\").addClass(\"nav\").addClass(\"next-level\");\n  const $github = $(`<a href=\"https://github.com/joyjing1\"><div class=\"button github\"/></a>`);\n\n  const $buttonRules = $(\"<a>\").addClass(\"button\")\n                        .addClass(\"show-rules\")\n                        .text(\"Rules\");\n  const $canvasDiv = $(\".canvas-div\");\n\n  $canvasDiv.append($button2);\n  $canvasDiv.append($button3);\n  $canvasDiv.append($github);\n  $canvasDiv.append($buttonRules);\n};\n\nGameView.prototype.checkPlanarity = function() {\n  if (this.game.isPlanar()) {\n    const $winModal = $(\".win-modal\");\n\n    const $stats = $(\"<p>\");\n    const $level = $(\".level\").empty().append(`Level: <span>${this.level+1}</span>`);\n    const $stage = $(\".stage\").empty().append(`Stage: <span>${this.stage+1}</span>`);\n    const $moves = $(\".moves\").empty().append(`Moves: <span>${this.game.moves}</span>`);\n\n    $winModal.css({display: \"block\"});\n  }\n};\n\nGameView.prototype.bindButtonEvents = function() {\n\n  $(\"previous-level\").off(\"touchstart\");\n  $(\"previous-level\").off(\"click\");\n  console.log(\"binding previous-level-button action\");\n  $(\".previous-level\").on(\"click touchstart\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (this.level > 0) {\n      this.levelDown();\n      this.playLevel(this.level);\n    }\n  });\n\n  $(\"next-level\").off(\"touchstart\");\n  $(\"next-level\").off(\"click\");\n  $(\".next-level\").on(\"click touchstart\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n    console.log(\"touchstart/clicked on next-level button\");\n\n    this.levelUp();\n    this.playLevel(this.level);\n  });\n\n  $(\"show-rules\").off(\"touchstart\");\n  $(\"show-rules\").off(\"click\");\n  $(\".show-rules\").on(\"click touchstart\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n    console.log(\"touchstart/clicked on show-rules button\");\n\n    $(\".rules\").css( {display: \"block\"} );\n  });\n\n};\n\nGameView.prototype.renderGraph = function() {\n  this.ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n  this.game.edges.forEach( (edge, i) => {\n    edge.draw(this.ctx, this.game.edges);\n  });\n\n  this.game.vertices.forEach( (vertex, i) => {\n    vertex.draw(this.ctx);\n  });\n\n};\n\nGameView.prototype.bindGraphEvents = function() {\n\n  $(\"canvas\").off(\"mousedown\");\n  $(\"canvas\").off(\"touchstart\");\n  $(\"canvas\").on(\"mousedown touchstart\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    let vertexSelected = false;\n    let withinVertex = 30;\n\n    if (Vertex.RADIUS > 7) {\n      withinVertex += (Vertex.RADIUS - 7);\n    }\n\n    if (event.originalEvent.targetTouches) {\n      let touch = event.originalEvent.targetTouches[0];\n      if (touch) {\n        const yAdjust = -40;\n        const xAdjust = 0;\n\n        this.currentMousePos.x = touch.pageX + xAdjust - Game.leftOffset;\n        this.currentMousePos.y = touch.pageY + yAdjust;\n      }\n    }\n\n    this.game.vertices.forEach( vertex => {\n      const dist = Util.distFromMouse(vertex, this.currentMousePos);\n\n      if (dist < withinVertex && !vertexSelected) {\n        this.game.moves += 1;\n\n        vertex.selected = true;\n        vertex.color = Constants.COLOR_SELECTED;\n        vertexSelected = true;\n\n        vertex.neighbors().forEach(neighbor => {\n          neighbor.color = Constants.COLOR_NEIGHBOR;\n        });\n      }\n    });\n\n  });\n\n  $(document).off(\"mouseup\");\n  $(document).off(\"touchend\");\n  $(document).on(\"mouseup touchend\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n    console.log(\"touchend/mouseup on document button\");\n\n    this.game.dropVertices();\n    this.checkPlanarity();\n  });\n\n  $(document).off(\"mousemove\");\n  $(document).mousemove( event => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    const yAdjust = -40;\n    const xAdjust = 0;\n\n    this.currentMousePos.x = event.pageX + xAdjust - Game.leftOffset;\n    this.currentMousePos.y = event.pageY + yAdjust;\n  });\n\n  $(document).off(\"touchmove\");\n  $(document).on(\"touchmove\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n    let touch = event.originalEvent.targetTouches[0];\n\n    if (touch) {\n      const yAdjust = -40;\n      const xAdjust = 0;\n\n      this.currentMousePos.x = touch.pageX + xAdjust - Game.leftOffset;\n      this.currentMousePos.y = touch.pageY + yAdjust;\n      console.log(this.currentMousePos);\n    }\n  });\n\n};\n\nGameView.prototype.follow = function(game, currentMousePos) {\n  game.vertices.forEach( vertex => {\n    if (vertex.selected) {\n      let newX = Math.min(Math.max(currentMousePos.x, Vertex.RADIUS), Game.DIM_X-Vertex.RADIUS);\n      let newY = Math.min(Math.max(currentMousePos.y, Vertex.RADIUS), Game.DIM_Y-Vertex.RADIUS);\n\n      vertex.x = newX;\n      vertex.y = newY;\n    }\n  });\n\n};\n\nmodule.exports = GameView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game_view.js\n **/"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///webpack/bootstrap a3a9aaee0587aefaa143","webpack:///./js/planary.js","webpack:///./js/game.js","webpack:///./constants.js","webpack:///./js/edge.js","webpack:///./js/util.js","webpack:///./js/graph.js","webpack:///./js/vertex.js","webpack:///./js/game_view.js"],"names":[],"mappings":"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","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a3a9aaee0587aefaa143\n **/","\"use strict\";\n\nconst Game = require(\"./game\")\n    , GameView = require(\"./game_view\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n\n  if (window.innerHeight < window.innerWidth) {\n    Game.DIM_X = window.innerHeight * 0.8;\n    Game.DIM_Y = window.innerHeight * 0.8;\n  } else {\n    Game.DIM_X = window.innerWidth;\n    Game.DIM_Y = window.innerWidth;\n  }\n\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const rootEl = $('.planary-root');\n\n  new GameView(ctx, rootEl, {level: 0, stage: 0});\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/planary.js\n **/","\"use strict\";\n\nconst Constants = require('../constants')\n    , Edge = require(\"./edge\")\n    , Graph = require(\"./graph\")\n    , Util = require(\"./util\")\n    , Vertex = require(\"./vertex\");\n\nconst Game = function (options) {\n  this.level = options.level || 0;\n  this.stage = options.stage || 0;\n  this.moves = 0;\n\n  this.setPlaySize();\n  this.buildGraph();\n  this.setVertexSize();\n};\n\nGame.prototype.setPlaySize = function() {\n  const $board = $(\".canvas-div\");\n  $board.width(Game.DIM_X).height(Game.DIM_Y);\n\n  Game.leftOffset = (window.innerWidth - Game.DIM_X) / 2;\n  $board.css( {left: Game.leftOffset} );\n};\n\nGame.prototype.setVertexSize = function() {\n  Vertex.RADIUS = (Game.DIM_X / this.vertices.length / 10) + 5;\n};\n\nGame.prototype.isPlanar = function() {\n  let planar = true;\n\n  this.edges.forEach( (edge1, i1) => {\n    this.edges.forEach( (edge2, i2) => {\n      if (i1 !== i2 && edge1.intersectsWith(edge2)) {\n        planar = false;\n      }\n    });\n  });\n\n  return planar;\n};\n\nGame.prototype.buildGraph = function() {\n  this.vertices = [];\n  this.edges = [];\n  const n = this.level + 4;\n\n  const edgeCoords = Graph.generateEdges(n);\n  let numVertices = (n * (n-1)/2);\n\n  if (this.level > 0) {\n    numVertices = (n * (n-1)/2) - (n-1) + this.stage + 1;\n  }\n\n  for (let j = 0; j < numVertices; j++) {\n\n    const xOffset = Game.DIM_X/2;\n    const yOffset = Game.DIM_Y/2;\n\n    const xResize = Game.DIM_X*0.35;\n    const yResize = Game.DIM_Y*0.35;\n\n    const x = Math.cos(j * 2 * Math.PI / numVertices) * xResize + xOffset;\n    const y = Math.sin(j * 2 * Math.PI / numVertices) * xResize + xOffset;\n\n    this.vertices.push(new Vertex({ x: x, y: y, index: j }) );\n  }\n\n  let verticesReached = [];\n  edgeCoords.forEach ( (edgeCoord, i) => {\n\n    if (edgeCoord[0] < numVertices && edgeCoord[1] < numVertices) {\n      const edge = new Edge({ vertex1: this.vertices[edgeCoord[0]],\n                              vertex2: this.vertices[edgeCoord[1]],\n                              idx: i });\n      this.edges.push(edge);\n\n      this.vertices[edgeCoord[0]].edges.push(edge);\n      this.vertices[edgeCoord[1]].edges.push(edge);\n\n      verticesReached.push(edgeCoord[0]);\n      verticesReached.push(edgeCoord[1]);\n    }\n  });\n\n  for (let i = 0; i < numVertices; i++) {\n    if (!verticesReached.includes(i)) {\n      let v2 = 0;\n      if (i === v2) { v2 += 1; }\n      const edge = new Edge({ vertex1: this.vertices[i],\n                              vertex2: this.vertices[v2],\n                              idx: edges.length });\n      this.edges.push(edge);\n\n      this.vertices[i].edges.push(edge);\n      this.vertices[v2].edges.push(edge);\n    }\n  }\n\n  // If graph is already solved, generate new graph\n  if (this.isPlanar()) {\n    this.buildGraph();\n  }\n\n};\n\nGame.prototype.dropVertices = function() {\n  this.vertices.forEach( vertex => {\n    vertex.selected = false;\n    vertex.color = Constants.COLOR;\n  });\n};\n\nmodule.exports = Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game.js\n **/","\"use strict\";\n\nmodule.exports = {\n\tCOLOR: \"#046FD8\",\n  COLOR_SELECTED: \"#47D6B6\",\n  COLOR_NEIGHBOR: \"#4531B1\",\n  BLACK: \"#000000\",\n  WHITE: \"#FFFFFF\",\n  LINE_FREE: \"#6AF794\",\n  LINE_INTERSECTING: \"#FF9090\",\n\tRADIUS: 15,\n  EPSILON: 0.00001\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./constants.js\n **/","\"use strict\";\n\nconst Constants = require('../constants')\n    , Util = require(\"./util\");\n\nconst Edge = function(options) {\n  this.vertex1 = options.vertex1;\n  this.vertex2 = options.vertex2;\n  this.idx = options.idx;\n};\n\nEdge.prototype.draw = function(ctx, edges) {\n  if (this.currentlyIntersecting(edges)) {\n    ctx.strokeStyle = Constants.LINE_INTERSECTING;\n    ctx.shadowColor = Constants.LINE_INTERSECTING;\n    ctx.lineWidth = 5;\n    ctx.shadowBlur = 10;\n    ctx.beginPath();\n    ctx.moveTo(this.vertex1.x, this.vertex1.y);\n    ctx.lineTo(this.vertex2.x, this.vertex2.y);\n    ctx.stroke();\n\n  } else {\n    ctx.strokeStyle = Constants.BLACK;\n    ctx.shadowColor = Constants.LINE_FREE;\n    ctx.lineWidth = 5;\n    ctx.shadowBlur = 15;\n    ctx.beginPath();\n    ctx.moveTo(this.vertex1.x, this.vertex1.y);\n    ctx.lineTo(this.vertex2.x, this.vertex2.y);\n    ctx.stroke();\n  }\n};\n\nEdge.prototype.slope = function() {\n\n  if (this.vertex1.x === this.vertex2.x) {\n    return 100000;\n  } else if (this.vertex1.x < this.vertex2.x) {\n    return (this.vertex2.y - this.vertex1.y) / (this.vertex2.x - this.vertex1.x);\n  } else {\n    return (this.vertex1.y - this.vertex2.y) / (this.vertex1.x - this.vertex2.x);\n  }\n\n};\n\nEdge.prototype.xIntercept = function() {\n  if (this.isVertical()) {\n    return this.vertex1.x;\n  } else if (this.isHorizontal()) {\n    return 1000000;\n  } else {\n    return -this.yIntercept()/this.slope();\n  }\n};\n\nEdge.prototype.yIntercept = function() {\n  if (this.isVertical()) {\n    return 1000000;\n  } else if (this.isHorizontal()) {\n    return this.vertex1.y;\n  } else {\n    return this.vertex1.y - (this.slope()*this.vertex1.x);\n  }\n};\n\nEdge.prototype.shareVertex = function(edge) {\n  return (\n    this.vertex1 === edge.vertex1\n    || this.vertex1 === edge.vertex2\n    || this.vertex2 === edge.vertex1\n    || this.vertex2 === edge.vertex2\n  );\n};\n\nEdge.prototype.isVertical = function() {\n  return (Math.abs(this.vertex1.x - this.vertex2.x) < Constants.EPSILON);\n};\n\nEdge.prototype.isHorizontal = function() {\n  return (Math.abs(this.vertex1.y - this.vertex2.y) < Constants.EPSILON);\n};\n\nEdge.prototype.intersectsAtX = function(edge) {\n  return (edge.yIntercept() - this.yIntercept()) / (this.slope() - edge.slope());\n};\n\nEdge.prototype.xValue = function(y) {\n  return (y - this.yIntercept())/this.slope();\n};\n\nEdge.prototype.yValue = function(x) {\n  return (this.slope() * x) + this.yIntercept();\n};\n\nEdge.prototype.minX = function() {\n  return Math.min(this.vertex1.x, this.vertex2.x);\n};\n\nEdge.prototype.maxX = function() {\n  return Math.max(this.vertex1.x, this.vertex2.x);\n};\n\nEdge.prototype.minY = function() {\n  return Math.min(this.vertex1.y, this.vertex2.y);\n};\n\nEdge.prototype.maxY = function() {\n  return Math.max(this.vertex1.y, this.vertex2.y);\n};\n\nEdge.prototype.intersectsWith = function(edge) {\n  // If edges are the same\n  if (this === edge) {\n    return false;\n\n  // If edges share a vertex\n  } else if (this.vertex1 === edge.vertex1) {\n    let response = false;\n\n    let slope1 = Util.slope(this.vertex1, this.vertex2);\n    let slope2 = Util.slope(edge.vertex1, edge.vertex2);\n\n    if (slope1 === slope2) {\n      response = true;\n    }\n    return response;\n\n  } else if (this.vertex1 === edge.vertex2) {\n    let response = false;\n\n    let slope1 = Util.slope(this.vertex1, this.vertex2);\n    let slope2 = Util.slope(edge.vertex2, edge.vertex1);\n\n    if (slope1 === slope2) {\n      response = true;\n    }\n    return response;\n\n  } else if (this.vertex2 === edge.vertex1) {\n    let response = false;\n\n    let slope1 = Util.slope(this.vertex2, this.vertex1);\n    let slope2 = Util.slope(edge.vertex1, edge.vertex2);\n\n    if (slope1 === slope2) {\n      response = true;\n    }\n    return response;\n\n  } else if (this.vertex2 === edge.vertex2) {\n    let response = false;\n\n    let slope1 = Util.slope(this.vertex2, this.vertex1);\n    let slope2 = Util.slope(edge.vertex2, edge.vertex1);\n\n    if (slope1 === slope2) {\n      response = true;\n    }\n    return response;\n\n  // If one of the edges is horizontal\n  } else if (this.isHorizontal()) {\n    let response = false;\n\n    if (edge.minY()+1 < this.vertex1.y && this.vertex1.y < edge.maxY()-1) {\n      if (edge.isVertical()) {\n        response = true;\n      } else {\n        let xValue = edge.xValue(this.vertex1.y);\n        if (this.minX()+1 < xValue && xValue < this.maxX()-1) {\n          response = true;\n        }\n      }\n    }\n    return response;\n\n  } else if (edge.isHorizontal()) {\n    let response = false;\n    if (this.minY()+1 < edge.vertex1.y && edge.vertex1.y < this.maxY()-1) {\n      if (this.isVertical()) {\n        response = true;\n      } else {\n        let xValue = this.xValue(edge.vertex1.y);\n        if (edge.minX()+1 < xValue && xValue < edge.maxX()-1) {\n          response = true;\n        }\n      }\n    }\n    return response;\n\n  // If one of the edges is vertical\n  } else if (this.isVertical()) {\n    let response = false;\n    if (edge.minX()+1 < this.vertex1.x && this.vertex1.x < edge.maxX()-1) {\n      if (edge.isHorizontal()) {\n        response = true;\n      } else {\n        let yValue = edge.yValue(this.vertex1.x);\n        if (this.minY()+1 < yValue && yValue < this.maxY()-1) {\n          response = true;\n        }\n      }\n    }\n    return response;\n\n  } else if (edge.isVertical()){\n    let response = false;\n\n    if (this.minX()+1 < edge.vertex1.x && edge.vertex1.x < this.maxX()-1) {\n      if (this.isHorizontal()) {\n        response = true;\n      } else {\n        let yValue = this.yValue(edge.vertex1.x);\n        if (edge.minY()+1 < yValue && yValue < edge.maxY()-1) {\n          response = true;\n        }\n      }\n    }\n    return response;\n\n  // If edges are parallel\n  } else if (this.slope() === edge.slope()) {\n    return false;\n\n  // If edges are both diagonal and do not share a vertex\n  } else {\n    const x = this.intersectsAtX(edge);\n    const y = this.yValue(x);\n\n    const xWithinRange = (this.minX()+1 < x && x < this.maxX()-1 && edge.minX()+1 < x && x < edge.maxX()-1);\n    const yWithinRange = (this.minY()+1 < y && y < this.maxY()-1 && edge.minY()+1 < y && y < edge.maxY()-1);\n\n    return xWithinRange && yWithinRange;\n  }\n};\n\nEdge.prototype.currentlyIntersecting = function(allEdges) {\n  let intersecting = false;\n\n  allEdges.forEach( edge => {\n    if (this.intersectsWith(edge)) {\n      intersecting = true;\n    }\n  });\n  return intersecting;\n};\n\nmodule.exports = Edge;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/edge.js\n **/","\"use strict\";\n\nconst Util = {\n  slope(vertex1, vertex2) {\n    return (vertex2.y - vertex1.y) / (vertex2.x - vertex1.x);\n  },\n\n  distFromMouse(vertex, currentMousePos) {\n    const vertexRadius = 12.5;\n\n    return Math.sqrt(\n      Math.pow(vertex.x + vertexRadius - currentMousePos.x, 2) + Math.pow(vertex.y + vertexRadius - currentMousePos.y, 2)\n    );\n  }\n\n};\n\nmodule.exports = Util;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/util.js\n **/","\"use strict\";\n\nconst Edge = require(\"./edge\")\n    , Util = require(\"./util\")\n    , Vertex = require(\"./vertex\");\n\nconst Graph = {\n\n  pairIndex(n) {\n    let pairIndex = {};\n\n    let vertexIdx = 0;\n    for (let i = 0; i <= n; i++) {\n      for (let j = i+1; j<n; j++) {\n        pairIndex[`${i},${j}`] = vertexIdx;\n        vertexIdx++;\n      }\n    }\n\n    return pairIndex;\n  },\n\n  generateLines(n) {\n    let lines = [];\n    let slopes = [];\n\n    while (lines.length < n) {\n      let v1 = new Vertex( { x: Math.random(), y: Math.random() });\n      let v2 = new Vertex( { x: Math.random(), y: Math.random() });\n\n      let slope = Util.slope(v1, v2);\n      // let inverseSlope = Util.slope(v2, v1);\n      if (!slopes.includes(slope)) {\n        let line = new Edge({ vertex1: v1, vertex2: v2, idx: lines.length});\n        lines.push(line);\n      }\n    }\n    return lines;\n  },\n\n  generateEdges(n) {\n    // Build pairIndex hash from { [pair]: indexOfVertex }\n    let pairIndex = this.pairIndex(n);\n\n    // Generate n * (n-1)/2 random lines of differing slope\n    const lines = this.generateLines(n);\n\n    // For each line, find the intersection points\n    // of that line with all other lines\n    let edges = [];\n    lines.forEach( (line1, i1) => {\n      let intersections = [];\n\n      lines.forEach( (line2, i2) => {\n        if (i1 !== i2) {\n          let intersection = line1.intersectsAtX(line2);\n          intersections.push( { x: intersection, lineIdx: i2 } );\n        }\n\n      });\n\n      // Order lines by intersection point's X coord\n      intersections.sort( (intersect1, intersect2) => {\n        return intersect1.x - intersect2.x;\n      });\n\n      // For each pair of neighboring intersections\n      // create a new edge between them\n      for (let i = 0; i < intersections.length-1; i++) {\n        let l1 = intersections[i];\n        let l2 = intersections[i+1];\n\n        let indices1 = [i1, l1.lineIdx];\n        let indices2 = [i1, l2.lineIdx];\n\n        indices1.sort( (a, b) => a-b  );\n        indices2.sort( (a, b) => a-b  );\n\n        let v1 = pairIndex[indices1];\n        let v2 = pairIndex[indices2];\n\n        edges.push([v1, v2]);\n      }\n\n    });\n\n    return edges;\n  }\n\n};\n\nmodule.exports = Graph;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/graph.js\n **/","\"use strict\";\n\nconst Constants = require('../constants');\n\nconst Vertex = function(options) {\n  this.index = options.index;\n  this.x = options.x;\n  this.y = options.y;\n  this.color = Constants.COLOR;\n  this.radius = Constants.RADIUS;\n  this.edges = [];\n  this.selected = false;\n};\n\nVertex.prototype.pos = function() {\n  return [this.x, this.y];\n};\n\nVertex.prototype.draw = function(ctx) {\n  ctx.fillStyle = this.color;\n  ctx.shadowColor = this.color;\n  ctx.shadowBlur = 10;\n  ctx.beginPath();\n  ctx.arc(this.x, this.y, Vertex.RADIUS, 0, 2 * Math.PI);\n  ctx.fill();\n};\n\nVertex.prototype.neighbors = function() {\n  let neighbors = [];\n\n  this.edges.forEach( edge => {\n    if (edge.vertex1 === this) {\n      neighbors.push(edge.vertex2);\n    } else {\n      neighbors.push(edge.vertex1);\n    }\n  });\n  return neighbors;\n};\n\nmodule.exports = Vertex;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/vertex.js\n **/","\"use strict\";\n\nconst Constants = require('../constants')\n    , Game = require(\"./game\")\n    , Util = require(\"./util\")\n    , Vertex = require('./vertex');\n\nconst GameView = function (ctx, root, options) {\n  this.ctx = ctx;\n  this.root = root;\n  this.currentMousePos = { x: -1, y: -1 };\n  this.level = options.level || 0;\n  this.stage = options.stage || 0;\n\n  this.renderButtons();\n  this.bindButtonEvents();\n  this.bindGraphEvents();\n  this.renderRules();\n  this.playLevel(this.level);\n};\n\nGameView.prototype.playLevel = function() {\n  this.game = new Game({level: this.level, stage: this.stage});\n\n  this.renderGraph();\n  this.renderModal();\n\n  let that = this;\n  function playGame() {\n    that.follow(that.game, that.currentMousePos);\n    that.renderGraph();\n    requestAnimationFrame(playGame);\n  }\n  requestAnimationFrame(playGame);\n};\n\nGameView.prototype.levelUp = function() {\n  this.stage += 1;\n  this.game.moves = 0;\n  if (this.stage > 0) {\n    $(\".description\").css( {display: \"none\"} );\n  }\n\n  if (this.level === 0 || this.stage >= this.level + 3) {\n    this.level += 1;\n    this.stage = 0;\n  }\n};\n\nGameView.prototype.levelDown = function() {\n  this.stage -= 1;\n  this.game.moves = 0;\n  if (this.stage < 0) {\n    this.level -= 1;\n    this.stage = this.level + 3;\n  }\n};\n\nGameView.prototype.renderRules = function() {\n  const prevRules = document.getElementsByClassName(\"rules\");\n\n  if (prevRules.length > 0) {\n    const $rulesModal = $(prevRules[0]);\n    $rulesModal.css({display: \"block\"});\n  } else {\n    const $rulesModal = $(\"<div>\").addClass(\"modal\")\n                        .addClass(\"rules\")\n                        .css({display: \"block\"});\n    const $rulesContent = $(\"<div>\").addClass(\"modal-content\");\n    const $rules = $(\"<p>\").text(\"Can you detangle the web? Move the nodes around until none of the lines intersect.\");\n\n    const $definitions = $(\"<p class='definitions'>A <a href='https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)'>graph</a> is a collection of nodes and edges.</br>A graph is <a href='https://en.wikipedia.org/wiki/Planar_graph'>planar</a> when it has no intersecting edges.</p>\");\n\n    // .addClass(\"definitions\").text(\"A <a>graph</a> is a collection of nodes and vertices. A graph is <a>planar</a> when it has no intersecting lines.\");\n\n    $rulesContent.append($rules);\n    $rulesModal.append($rulesContent);\n\n    const $playButton = $(\"<a>\").text(\"Play\")\n                        .addClass(\"button\")\n                        .addClass(\"play\");\n\n    $rulesContent.append($playButton);\n    $rulesContent.append($definitions);\n\n    $playButton.on(\"touchstart click\", event => {\n      $rulesModal.css( {display: \"none\"} );\n    });\n\n    $rulesModal.on(\"touchstart click\", event => {\n      $rulesModal.css( {display: \"none\"} );\n    });\n\n    this.root.append($rulesModal);\n  }\n\n};\n\nGameView.prototype.renderModal = function() {\n  const prevModals = document.getElementsByClassName(\"win-modal\");\n\n  if (prevModals.length > 0) {\n    const $modal = $(prevModals[0]);\n\n  } else {\n    const $modal = $(\"<div>\").addClass(\"modal\")\n                  .addClass(\"win-modal\")\n                  .css( {display: \"none\"} );\n\n    const $modalContent = $(\"<div>\").addClass(\"modal-content\").addClass(\"win-modal-content\");\n    const $congrats = $(\"<h2>\").text(\"Congratulations, the graph is planar!\");\n\n    const $stats = $(\"<p>\").addClass(\"stats\");\n    const $level = $(\"<div>\").addClass(\"results level\");\n    const $stage = $(\"<div>\").addClass(\"results stage\");\n    const $moves = $(\"<div>\").addClass(\"results moves\");\n\n    $stats.append($level);\n    $stats.append($stage);\n    $stats.append($moves);\n\n    $modalContent.append($congrats);\n    $modalContent.append($stats);\n    $modal.append($modalContent);\n\n    const $nextButton = $(\"<a>\").text(\"Next Level\")\n                        .addClass(\"button\")\n                        .addClass(\"next-level-modal\");\n\n    $modalContent.append($nextButton);\n\n    $nextButton.on(\"touchstart click\", event => {\n      event.stopPropagation();\n      event.preventDefault();\n\n      this.levelUp();\n      $modal.css({display: \"none\"});\n      cancelAnimationFrame(this.refreshIntervalId);\n      this.playLevel();\n    });\n\n    $modal.on(\"touchstart click\", event => {\n      event.stopPropagation();\n      event.preventDefault();\n\n      this.levelUp();\n      $modal.css({display: \"none\"});\n      cancelAnimationFrame(this.refreshIntervalId);\n      this.playLevel();\n    });\n\n    this.root.append($modal);\n  }\n\n};\n\nGameView.prototype.renderButtons = function() {\n\n  const $button2 = $(\"<div>\").addClass(\"button\").addClass(\"nav\").addClass(\"previous-level\");\n  const $button3 = $(\"<div>\").addClass(\"button\").addClass(\"nav\").addClass(\"next-level\");\n  const $github = $(`<a href=\"https://github.com/JoyJing1/Planarity\"><div class=\"button github\"/></a>`);\n\n  const $buttonRules = $(\"<a>\").addClass(\"button\")\n                        .addClass(\"show-rules\")\n                        .text(\"Rules\");\n  const $canvasDiv = $(\".canvas-div\");\n\n  $canvasDiv.append($button2);\n  $canvasDiv.append($button3);\n  $canvasDiv.append($github);\n  $canvasDiv.append($buttonRules);\n};\n\nGameView.prototype.checkPlanarity = function() {\n  if (this.game.isPlanar()) {\n    const $winModal = $(\".win-modal\");\n\n    const $stats = $(\"<p>\");\n    const $level = $(\".level\").empty().append(`Level: <span>${this.level+1}</span>`);\n    const $stage = $(\".stage\").empty().append(`Stage: <span>${this.stage+1}</span>`);\n    const $moves = $(\".moves\").empty().append(`Moves: <span>${this.game.moves}</span>`);\n\n    $winModal.css({display: \"block\"});\n  }\n};\n\nGameView.prototype.bindButtonEvents = function() {\n\n  $(\".previous-level\").off(\"touchstart\");\n  $(\".previous-level\").off(\"click\");\n  $(\".previous-level\").on(\"click touchstart\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (this.level > 0) {\n      this.levelDown();\n      this.playLevel(this.level);\n    }\n  });\n\n  $(\".next-level\").off(\"touchstart\");\n  $(\".next-level\").off(\"click\");\n  $(\".next-level\").on(\"click touchstart\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    this.levelUp();\n    this.playLevel(this.level);\n  });\n\n  $(\".show-rules\").off(\"touchstart\");\n  $(\".show-rules\").off(\"click\");\n  $(\".show-rules\").on(\"click touchstart\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    $(\".rules\").css( {display: \"block\"} );\n  });\n\n};\n\nGameView.prototype.renderGraph = function() {\n  this.ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n  this.game.edges.forEach( (edge, i) => {\n    edge.draw(this.ctx, this.game.edges);\n  });\n\n  this.game.vertices.forEach( (vertex, i) => {\n    vertex.draw(this.ctx);\n  });\n\n};\n\nGameView.prototype.bindGraphEvents = function() {\n\n  $(\"canvas\").off(\"mousedown\");\n  $(\"canvas\").off(\"touchstart\");\n  $(\"canvas\").on(\"mousedown touchstart\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    let vertexSelected = false;\n    let withinVertex = 30;\n\n    if (Vertex.RADIUS > 7) {\n      withinVertex += (Vertex.RADIUS - 7);\n    }\n\n    if (event.originalEvent.targetTouches) {\n      let touch = event.originalEvent.targetTouches[0];\n      if (touch) {\n        const yAdjust = -203;\n        const xAdjust = 0;\n\n        this.currentMousePos.x = touch.pageX + xAdjust - Game.leftOffset;\n        this.currentMousePos.y = touch.pageY + yAdjust;\n      }\n    }\n\n    this.game.vertices.forEach( vertex => {\n      const dist = Util.distFromMouse(vertex, this.currentMousePos);\n\n      if (dist < withinVertex && !vertexSelected) {\n        this.game.moves += 1;\n\n        vertex.selected = true;\n        vertex.color = Constants.COLOR_SELECTED;\n        vertexSelected = true;\n\n        vertex.neighbors().forEach(neighbor => {\n          neighbor.color = Constants.COLOR_NEIGHBOR;\n        });\n      }\n    });\n\n  });\n\n  $(document).off(\"mouseup\");\n  $(document).off(\"touchend\");\n  $(document).on(\"mouseup touchend\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    this.game.dropVertices();\n    this.checkPlanarity();\n  });\n\n  $(document).off(\"mousemove\");\n  $(document).mousemove( event => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    const yAdjust = -70;\n    const xAdjust = 0;\n\n    this.currentMousePos.x = event.pageX + xAdjust - Game.leftOffset;\n    this.currentMousePos.y = event.pageY + yAdjust;\n  });\n\n  $(document).off(\"touchmove\");\n  $(document).on(\"touchmove\", event => {\n    event.stopPropagation();\n    event.preventDefault();\n    let touch = event.originalEvent.targetTouches[0];\n\n    if (touch) {\n      const yAdjust = -167;\n      const xAdjust = 0;\n\n      this.currentMousePos.x = touch.pageX + xAdjust - Game.leftOffset;\n      this.currentMousePos.y = touch.pageY + yAdjust;\n    }\n  });\n\n};\n\nGameView.prototype.follow = function(game, currentMousePos) {\n  game.vertices.forEach( vertex => {\n    if (vertex.selected) {\n      let newX = Math.min(Math.max(currentMousePos.x, Vertex.RADIUS), Game.DIM_X-Vertex.RADIUS);\n      let newY = Math.min(Math.max(currentMousePos.y, Vertex.RADIUS), Game.DIM_Y-Vertex.RADIUS);\n\n      vertex.x = newX;\n      vertex.y = newY;\n    }\n  });\n\n};\n\nmodule.exports = GameView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/game_view.js\n **/"],"sourceRoot":""}
>>>>>>> master
